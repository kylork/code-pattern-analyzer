<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Design Patterns Explorer</title>
    <style>
        /* General styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            background-color: #f9fafc;
        }
        
        h1, h2, h3, h4 {
            color: #2c3e50;
            margin-top: 1.5em;
            margin-bottom: 0.8em;
        }
        
        h1 {
            text-align: center;
            padding: 20px 0;
            margin-top: 0;
            background-color: #2c3e50;
            color: white;
        }
        
        /* Container styles */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Pattern header */
        .pattern-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 10px 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .pattern-title h2 {
            margin: 0;
            font-size: 1.8em;
        }
        
        .pattern-type {
            display: inline-block;
            padding: 5px 10px;
            background-color: #3498db;
            color: white;
            border-radius: 20px;
            font-size: 0.8em;
            margin-left: 10px;
        }
        
        .pattern-tags {
            display: flex;
            gap: 10px;
        }
        
        .pattern-tag {
            padding: 5px 10px;
            background-color: #eee;
            border-radius: 15px;
            font-size: 0.9em;
        }
        
        /* Pattern explorer */
        .pattern-explorer {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        /* Pattern list */
        .patterns-list {
            flex: 0 0 250px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 15px;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .pattern-category {
            margin-bottom: 15px;
        }
        
        .category-title {
            font-weight: bold;
            padding: 5px 0;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }
        
        .category-title::after {
            content: 'â–¼';
            float: right;
            transition: transform 0.3s;
        }
        
        .category-title.collapsed::after {
            transform: rotate(-90deg);
        }
        
        .pattern-items {
            margin-top: 10px;
            margin-left: 10px;
        }
        
        .pattern-item {
            padding: 8px;
            margin-bottom: 5px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .pattern-item:hover {
            background-color: #f8f9fa;
        }
        
        .pattern-item.active {
            background-color: #e3f2fd;
            font-weight: bold;
        }
        
        /* Pattern content */
        .pattern-content {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        /* Pattern tabs */
        .pattern-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .pattern-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: bold;
        }
        
        .pattern-tab.active {
            border-bottom-color: #3498db;
            color: #3498db;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Pattern diagram */
        .pattern-diagram {
            width: 100%;
            height: 400px;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        /* Pattern code example */
        .code-example {
            margin-top: 20px;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        
        .code-tabs {
            display: flex;
            margin-bottom: -1px;
        }
        
        .code-tab {
            padding: 8px 15px;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            margin-right: 5px;
        }
        
        .code-tab.active {
            background-color: white;
            border-bottom-color: white;
        }
        
        .code-panel {
            display: none;
            padding: 15px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 0 5px 5px 5px;
            max-height: 400px;
            overflow: auto;
        }
        
        .code-panel.active {
            display: block;
        }
        
        /* Code highlighting */
        .code-panel pre {
            margin: 0;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .code-keyword {
            color: #07a;
        }
        
        .code-string {
            color: #690;
        }
        
        .code-comment {
            color: #999;
        }
        
        .code-class {
            color: #dd4a68;
        }
        
        .code-function {
            color: #dd4a68;
        }
        
        /* Implementation details */
        .implementation-details {
            margin-top: 30px;
        }
        
        .implementation-section {
            margin-bottom: 20px;
        }
        
        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .detail-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid #3498db;
        }
        
        .detail-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        /* Usage examples */
        .usage-examples {
            margin-top: 30px;
        }
        
        .example-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .example-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        /* Pattern relationships */
        .pattern-relationships {
            margin-top: 30px;
        }
        
        .relationship-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .relationship-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .relationship-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .relationship-type {
            font-size: 0.8em;
            color: #7f8c8d;
            margin-bottom: 5px;
        }
        
        .relationship-name {
            font-weight: bold;
        }
        
        /* Interactive simulation */
        .pattern-simulation {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        .simulation-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .simulation-button {
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .simulation-button:hover {
            background-color: #2980b9;
        }
        
        .simulation-canvas {
            width: 100%;
            height: 300px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
        }
        
        /* Animation styles */
        @keyframes highlight {
            0% { stroke-width: 1; }
            50% { stroke-width: 3; stroke: #e74c3c; }
            100% { stroke-width: 1; }
        }
        
        .highlight-animation {
            animation: highlight 1.5s ease-in-out;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .pattern-explorer {
                flex-direction: column;
            }
            
            .patterns-list {
                flex: 0 0 auto;
                max-height: 300px;
            }
            
            .details-grid, .relationship-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <h1>Interactive Design Patterns Explorer</h1>
    
    <div class="container">
        <div class="pattern-header">
            <div class="pattern-title">
                <h2>Observer Pattern <span class="pattern-type">Behavioral</span></h2>
            </div>
            <div class="pattern-tags">
                <div class="pattern-tag">One-to-Many</div>
                <div class="pattern-tag">Event-Based</div>
                <div class="pattern-tag">Loose Coupling</div>
            </div>
        </div>
        
        <div class="pattern-explorer">
            <div class="patterns-list">
                <div class="pattern-category">
                    <div class="category-title">Creational Patterns</div>
                    <div class="pattern-items">
                        <div class="pattern-item">Factory Method</div>
                        <div class="pattern-item">Abstract Factory</div>
                        <div class="pattern-item">Builder</div>
                        <div class="pattern-item">Prototype</div>
                        <div class="pattern-item">Singleton</div>
                    </div>
                </div>
                
                <div class="pattern-category">
                    <div class="category-title">Structural Patterns</div>
                    <div class="pattern-items">
                        <div class="pattern-item">Adapter</div>
                        <div class="pattern-item">Bridge</div>
                        <div class="pattern-item">Composite</div>
                        <div class="pattern-item">Decorator</div>
                        <div class="pattern-item">Facade</div>
                        <div class="pattern-item">Flyweight</div>
                        <div class="pattern-item">Proxy</div>
                    </div>
                </div>
                
                <div class="pattern-category">
                    <div class="category-title">Behavioral Patterns</div>
                    <div class="pattern-items">
                        <div class="pattern-item">Chain of Responsibility</div>
                        <div class="pattern-item">Command</div>
                        <div class="pattern-item">Interpreter</div>
                        <div class="pattern-item">Iterator</div>
                        <div class="pattern-item">Mediator</div>
                        <div class="pattern-item">Memento</div>
                        <div class="pattern-item active">Observer</div>
                        <div class="pattern-item">State</div>
                        <div class="pattern-item">Strategy</div>
                        <div class="pattern-item">Template Method</div>
                        <div class="pattern-item">Visitor</div>
                    </div>
                </div>
            </div>
            
            <div class="pattern-content">
                <div class="pattern-tabs">
                    <div class="pattern-tab active" data-tab="overview">Overview</div>
                    <div class="pattern-tab" data-tab="implementation">Implementation</div>
                    <div class="pattern-tab" data-tab="examples">Examples</div>
                    <div class="pattern-tab" data-tab="simulate">Simulate</div>
                </div>
                
                <div id="overview-tab" class="tab-content active">
                    <h3>Observer Pattern</h3>
                    <p>The Observer pattern defines a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically. It's a behavioral design pattern that promotes loose coupling between objects.</p>
                    
                    <div class="pattern-diagram">
                        <svg width="100%" height="100%" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                            <!-- Subject/Observable -->
                            <rect x="100" y="100" width="200" height="100" fill="#e1ebf2" stroke="#3498db" stroke-width="2" rx="5" ry="5" id="subject-box" />
                            <text x="200" y="140" text-anchor="middle" font-size="16" font-weight="bold">Subject</text>
                            <text x="200" y="170" text-anchor="middle" font-size="14">- observers: List</text>
                            <text x="200" y="190" text-anchor="middle" font-size="14">+ notify()</text>
                            
                            <!-- ConcreteSubject -->
                            <rect x="100" y="250" width="200" height="100" fill="#e1ebf2" stroke="#3498db" stroke-width="2" rx="5" ry="5" id="concrete-subject-box" />
                            <text x="200" y="290" text-anchor="middle" font-size="16" font-weight="bold">ConcreteSubject</text>
                            <text x="200" y="320" text-anchor="middle" font-size="14">- state</text>
                            <text x="200" y="340" text-anchor="middle" font-size="14">+ getState()</text>
                            
                            <!-- Observer Interface -->
                            <rect x="500" y="100" width="200" height="100" fill="#e8f4e5" stroke="#2ecc71" stroke-width="2" rx="5" ry="5" id="observer-box" />
                            <text x="600" y="140" text-anchor="middle" font-size="16" font-weight="bold">Observer</text>
                            <text x="600" y="170" text-anchor="middle" font-size="14">+ update()</text>
                            
                            <!-- ConcreteObserver 1 -->
                            <rect x="400" y="250" width="200" height="100" fill="#e8f4e5" stroke="#2ecc71" stroke-width="2" rx="5" ry="5" id="concrete-observer1-box" />
                            <text x="500" y="290" text-anchor="middle" font-size="16" font-weight="bold">ConcreteObserver1</text>
                            <text x="500" y="320" text-anchor="middle" font-size="14">- subject</text>
                            <text x="500" y="340" text-anchor="middle" font-size="14">+ update()</text>
                            
                            <!-- ConcreteObserver 2 -->
                            <rect x="620" y="250" width="200" height="100" fill="#e8f4e5" stroke="#2ecc71" stroke-width="2" rx="5" ry="5" id="concrete-observer2-box" />
                            <text x="720" y="290" text-anchor="middle" font-size="16" font-weight="bold">ConcreteObserver2</text>
                            <text x="720" y="320" text-anchor="middle" font-size="14">- subject</text>
                            <text x="720" y="340" text-anchor="middle" font-size="14">+ update()</text>
                            
                            <!-- Inheritance lines -->
                            <line x1="200" y1="200" x2="200" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
                            <line x1="500" y1="200" x2="500" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
                            <line x1="720" y1="200" x2="720" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
                            
                            <!-- Association line -->
                            <line x1="300" y1="150" x2="500" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
                            <text x="400" y="140" text-anchor="middle" font-size="14">observers</text>
                            
                            <!-- Dependency lines -->
                            <path d="M400,300 Q350,300 300,300" stroke="#333" stroke-dasharray="5,5" stroke-width="2" marker-end="url(#arrowhead)" />
                            <path d="M620,300 Q570,300 300,300" stroke="#333" stroke-dasharray="5,5" stroke-width="2" marker-end="url(#arrowhead)" />
                            
                            <!-- Arrow definition -->
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
                                </marker>
                            </defs>
                        </svg>
                    </div>
                    
                    <h3>Pattern Components</h3>
                    <ul>
                        <li><strong>Subject (Observable)</strong> - Knows its observers and provides an interface for attaching, detaching, and notifying observers.</li>
                        <li><strong>ConcreteSubject</strong> - Stores state of interest to observers and sends notifications when state changes.</li>
                        <li><strong>Observer</strong> - Defines an updating interface for objects that should be notified of changes.</li>
                        <li><strong>ConcreteObserver</strong> - Maintains a reference to a ConcreteSubject and implements the Observer interface to keep its state consistent with the subject's.</li>
                    </ul>
                    
                    <h3>Key Benefits</h3>
                    <ul>
                        <li><strong>Loose Coupling</strong> - Subjects don't need to know anything about concrete observer classes.</li>
                        <li><strong>Broadcast Communication</strong> - Efficiently notifies multiple interested objects about state changes.</li>
                        <li><strong>Open/Closed Principle</strong> - You can introduce new observer classes without modifying the subject.</li>
                    </ul>
                    
                    <h3>Common Applications</h3>
                    <ul>
                        <li>Event handling systems</li>
                        <li>Model-View-Controller (MVC) architectures</li>
                        <li>Subscription mechanisms</li>
                        <li>Reactive programming patterns</li>
                        <li>User interface components that respond to data changes</li>
                    </ul>
                </div>
                
                <div id="implementation-tab" class="tab-content">
                    <h3>Implementation Details</h3>
                    
                    <div class="implementation-section">
                        <h4>Core Components</h4>
                        <div class="details-grid">
                            <div class="detail-card">
                                <div class="detail-title">Subject Interface</div>
                                <div class="detail-content">
                                    Defines methods for attaching, detaching, and notifying observers. Often includes:
                                    <ul>
                                        <li>attach(observer)</li>
                                        <li>detach(observer)</li>
                                        <li>notify()</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-title">ConcreteSubject Implementation</div>
                                <div class="detail-content">
                                    Maintains state and calls notify() when state changes. Often includes:
                                    <ul>
                                        <li>List of observers</li>
                                        <li>State variables</li>
                                        <li>Methods to modify state</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-title">Observer Interface</div>
                                <div class="detail-content">
                                    Defines the updating interface for objects that should be notified of changes:
                                    <ul>
                                        <li>update(subject)</li>
                                        <li>Optional context parameters</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-title">ConcreteObserver Implementation</div>
                                <div class="detail-content">
                                    Implements the Observer interface and maintains a reference to the subject:
                                    <ul>
                                        <li>Subject reference</li>
                                        <li>update() implementation</li>
                                        <li>Observer-specific state</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="code-example">
                        <div class="code-tabs">
                            <div class="code-tab active" data-lang="python">Python</div>
                            <div class="code-tab" data-lang="java">Java</div>
                            <div class="code-tab" data-lang="typescript">TypeScript</div>
                        </div>
                        
                        <div class="code-panel active" id="python-code">
                            <pre>
<span class="code-keyword">from</span> abc <span class="code-keyword">import</span> ABC, abstractmethod
<span class="code-keyword">from</span> typing <span class="code-keyword">import</span> List

<span class="code-comment"># Observer interface</span>
<span class="code-keyword">class</span> <span class="code-class">Observer</span>(ABC):
    <span class="code-function">@abstractmethod</span>
    <span class="code-keyword">def</span> <span class="code-function">update</span>(self, subject) -> None:
        <span class="code-keyword">pass</span>

<span class="code-comment"># Subject interface</span>
<span class="code-keyword">class</span> <span class="code-class">Subject</span>(ABC):
    <span class="code-function">@abstractmethod</span>
    <span class="code-keyword">def</span> <span class="code-function">attach</span>(self, observer: Observer) -> None:
        <span class="code-keyword">pass</span>
        
    <span class="code-function">@abstractmethod</span>
    <span class="code-keyword">def</span> <span class="code-function">detach</span>(self, observer: Observer) -> None:
        <span class="code-keyword">pass</span>
        
    <span class="code-function">@abstractmethod</span>
    <span class="code-keyword">def</span> <span class="code-function">notify</span>(self) -> None:
        <span class="code-keyword">pass</span>

<span class="code-comment"># Concrete Subject implementation</span>
<span class="code-keyword">class</span> <span class="code-class">WeatherStation</span>(Subject):
    <span class="code-keyword">def</span> <span class="code-function">__init__</span>(self):
        self._observers: List[Observer] = []
        self._temperature = 0
        
    <span class="code-keyword">def</span> <span class="code-function">attach</span>(self, observer: Observer) -> None:
        <span class="code-keyword">if</span> observer <span class="code-keyword">not in</span> self._observers:
            self._observers.append(observer)
    
    <span class="code-keyword">def</span> <span class="code-function">detach</span>(self, observer: Observer) -> None:
        self._observers.remove(observer)
    
    <span class="code-keyword">def</span> <span class="code-function">notify</span>(self) -> None:
        <span class="code-keyword">for</span> observer <span class="code-keyword">in</span> self._observers:
            observer.update(self)
    
    <span class="code-keyword">def</span> <span class="code-function">set_temperature</span>(self, temperature):
        self._temperature = temperature
        self.notify() <span class="code-comment"># Notify observers when temperature changes</span>
    
    <span class="code-keyword">def</span> <span class="code-function">get_temperature</span>(self):
        <span class="code-keyword">return</span> self._temperature

<span class="code-comment"># Concrete Observer implementations</span>
<span class="code-keyword">class</span> <span class="code-class">TemperatureDisplay</span>(Observer):
    <span class="code-keyword">def</span> <span class="code-function">update</span>(self, subject: WeatherStation) -> None:
        temperature = subject.get_temperature()
        <span class="code-keyword">print</span>(<span class="code-string">f"Temperature Display: {temperature}Â°C"</span>)

<span class="code-keyword">class</span> <span class="code-class">TemperatureLogger</span>(Observer):
    <span class="code-keyword">def</span> <span class="code-function">update</span>(self, subject: WeatherStation) -> None:
        temperature = subject.get_temperature()
        <span class="code-keyword">print</span>(<span class="code-string">f"Logging temperature: {temperature}Â°C"</span>)

<span class="code-comment"># Usage</span>
weather_station = WeatherStation()

display = TemperatureDisplay()
logger = TemperatureLogger()

weather_station.attach(display)
weather_station.attach(logger)

weather_station.set_temperature(25)  <span class="code-comment"># Both observers are notified</span>
weather_station.set_temperature(30)  <span class="code-comment"># Both observers are notified</span>

weather_station.detach(logger)
weather_station.set_temperature(35)  <span class="code-comment"># Only display is notified</span>
</pre>
                        </div>
                        
                        <div class="code-panel" id="java-code">
                            <pre>
<span class="code-keyword">import</span> java.util.ArrayList;
<span class="code-keyword">import</span> java.util.List;

<span class="code-comment">// Observer interface</span>
<span class="code-keyword">interface</span> <span class="code-class">Observer</span> {
    <span class="code-keyword">void</span> <span class="code-function">update</span>(Subject subject);
}

<span class="code-comment">// Subject interface</span>
<span class="code-keyword">interface</span> <span class="code-class">Subject</span> {
    <span class="code-keyword">void</span> <span class="code-function">attach</span>(Observer observer);
    <span class="code-keyword">void</span> <span class="code-function">detach</span>(Observer observer);
    <span class="code-keyword">void</span> <span class="code-function">notify</span>();
}

<span class="code-comment">// Concrete Subject implementation</span>
<span class="code-keyword">class</span> <span class="code-class">WeatherStation</span> <span class="code-keyword">implements</span> Subject {
    <span class="code-keyword">private final</span> List&lt;Observer&gt; observers = <span class="code-keyword">new</span> ArrayList&lt;&gt;();
    <span class="code-keyword">private int</span> temperature;
    
    <span class="code-function">@Override</span>
    <span class="code-keyword">public void</span> <span class="code-function">attach</span>(Observer observer) {
        <span class="code-keyword">if</span> (!observers.contains(observer)) {
            observers.add(observer);
        }
    }
    
    <span class="code-function">@Override</span>
    <span class="code-keyword">public void</span> <span class="code-function">detach</span>(Observer observer) {
        observers.remove(observer);
    }
    
    <span class="code-function">@Override</span>
    <span class="code-keyword">public void</span> <span class="code-function">notify</span>() {
        <span class="code-keyword">for</span> (Observer observer : observers) {
            observer.update(<span class="code-keyword">this</span>);
        }
    }
    
    <span class="code-keyword">public void</span> <span class="code-function">setTemperature</span>(<span class="code-keyword">int</span> temperature) {
        <span class="code-keyword">this</span>.temperature = temperature;
        notify(); <span class="code-comment">// Notify observers when temperature changes</span>
    }
    
    <span class="code-keyword">public int</span> <span class="code-function">getTemperature</span>() {
        <span class="code-keyword">return</span> temperature;
    }
}

<span class="code-comment">// Concrete Observer implementations</span>
<span class="code-keyword">class</span> <span class="code-class">TemperatureDisplay</span> <span class="code-keyword">implements</span> Observer {
    <span class="code-function">@Override</span>
    <span class="code-keyword">public void</span> <span class="code-function">update</span>(Subject subject) {
        <span class="code-keyword">if</span> (subject <span class="code-keyword">instanceof</span> WeatherStation) {
            WeatherStation weatherStation = (WeatherStation) subject;
            <span class="code-keyword">int</span> temperature = weatherStation.getTemperature();
            System.out.println(<span class="code-string">"Temperature Display: "</span> + temperature + <span class="code-string">"Â°C"</span>);
        }
    }
}

<span class="code-keyword">class</span> <span class="code-class">TemperatureLogger</span> <span class="code-keyword">implements</span> Observer {
    <span class="code-function">@Override</span>
    <span class="code-keyword">public void</span> <span class="code-function">update</span>(Subject subject) {
        <span class="code-keyword">if</span> (subject <span class="code-keyword">instanceof</span> WeatherStation) {
            WeatherStation weatherStation = (WeatherStation) subject;
            <span class="code-keyword">int</span> temperature = weatherStation.getTemperature();
            System.out.println(<span class="code-string">"Logging temperature: "</span> + temperature + <span class="code-string">"Â°C"</span>);
        }
    }
}

<span class="code-comment">// Usage in Main class</span>
<span class="code-keyword">public class</span> <span class="code-class">ObserverDemo</span> {
    <span class="code-keyword">public static void</span> <span class="code-function">main</span>(String[] args) {
        WeatherStation weatherStation = <span class="code-keyword">new</span> WeatherStation();
        
        Observer display = <span class="code-keyword">new</span> TemperatureDisplay();
        Observer logger = <span class="code-keyword">new</span> TemperatureLogger();
        
        weatherStation.attach(display);
        weatherStation.attach(logger);
        
        weatherStation.setTemperature(25); <span class="code-comment">// Both observers are notified</span>
        weatherStation.setTemperature(30); <span class="code-comment">// Both observers are notified</span>
        
        weatherStation.detach(logger);
        weatherStation.setTemperature(35); <span class="code-comment">// Only display is notified</span>
    }
}
</pre>
                        </div>
                        
                        <div class="code-panel" id="typescript-code">
                            <pre>
<span class="code-comment">// Observer interface</span>
<span class="code-keyword">interface</span> <span class="code-class">Observer</span> {
    update(subject: Subject): <span class="code-keyword">void</span>;
}

<span class="code-comment">// Subject interface</span>
<span class="code-keyword">interface</span> <span class="code-class">Subject</span> {
    attach(observer: Observer): <span class="code-keyword">void</span>;
    detach(observer: Observer): <span class="code-keyword">void</span>;
    notify(): <span class="code-keyword">void</span>;
}

<span class="code-comment">// Concrete Subject implementation</span>
<span class="code-keyword">class</span> <span class="code-class">WeatherStation</span> <span class="code-keyword">implements</span> Subject {
    <span class="code-keyword">private</span> observers: Observer[] = [];
    <span class="code-keyword">private</span> temperature: <span class="code-keyword">number</span> = 0;
    
    <span class="code-function">attach</span>(observer: Observer): <span class="code-keyword">void</span> {
        <span class="code-keyword">const</span> isExist = <span class="code-keyword">this</span>.observers.includes(observer);
        <span class="code-keyword">if</span> (!isExist) {
            <span class="code-keyword">this</span>.observers.push(observer);
        }
    }
    
    <span class="code-function">detach</span>(observer: Observer): <span class="code-keyword">void</span> {
        <span class="code-keyword">const</span> observerIndex = <span class="code-keyword">this</span>.observers.indexOf(observer);
        <span class="code-keyword">if</span> (observerIndex !== -1) {
            <span class="code-keyword">this</span>.observers.splice(observerIndex, 1);
        }
    }
    
    <span class="code-function">notify</span>(): <span class="code-keyword">void</span> {
        <span class="code-keyword">for</span> (<span class="code-keyword">const</span> observer <span class="code-keyword">of</span> <span class="code-keyword">this</span>.observers) {
            observer.update(<span class="code-keyword">this</span>);
        }
    }
    
    <span class="code-function">setTemperature</span>(temperature: <span class="code-keyword">number</span>): <span class="code-keyword">void</span> {
        <span class="code-keyword">this</span>.temperature = temperature;
        <span class="code-keyword">this</span>.notify(); <span class="code-comment">// Notify observers when temperature changes</span>
    }
    
    <span class="code-function">getTemperature</span>(): <span class="code-keyword">number</span> {
        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.temperature;
    }
}

<span class="code-comment">// Concrete Observer implementations</span>
<span class="code-keyword">class</span> <span class="code-class">TemperatureDisplay</span> <span class="code-keyword">implements</span> Observer {
    <span class="code-function">update</span>(subject: Subject): <span class="code-keyword">void</span> {
        <span class="code-keyword">if</span> (subject <span class="code-keyword">instanceof</span> WeatherStation) {
            <span class="code-keyword">const</span> temperature = subject.getTemperature();
            console.log(`Temperature Display: ${temperature}Â°C`);
        }
    }
}

<span class="code-keyword">class</span> <span class="code-class">TemperatureLogger</span> <span class="code-keyword">implements</span> Observer {
    <span class="code-function">update</span>(subject: Subject): <span class="code-keyword">void</span> {
        <span class="code-keyword">if</span> (subject <span class="code-keyword">instanceof</span> WeatherStation) {
            <span class="code-keyword">const</span> temperature = subject.getTemperature();
            console.log(`Logging temperature: ${temperature}Â°C`);
        }
    }
}

<span class="code-comment">// Usage</span>
<span class="code-keyword">const</span> weatherStation = <span class="code-keyword">new</span> WeatherStation();

<span class="code-keyword">const</span> display = <span class="code-keyword">new</span> TemperatureDisplay();
<span class="code-keyword">const</span> logger = <span class="code-keyword">new</span> TemperatureLogger();

weatherStation.attach(display);
weatherStation.attach(logger);

weatherStation.setTemperature(25); <span class="code-comment">// Both observers are notified</span>
weatherStation.setTemperature(30); <span class="code-comment">// Both observers are notified</span>

weatherStation.detach(logger);
weatherStation.setTemperature(35); <span class="code-comment">// Only display is notified</span>
</pre>
                        </div>
                    </div>
                    
                    <div class="implementation-section">
                        <h4>Implementation Considerations</h4>
                        <ul>
                            <li><strong>Push vs. Pull:</strong> In the push model, the subject sends detailed information to observers. In the pull model, observers request the information they need from the subject.</li>
                            <li><strong>Observer Registration:</strong> Decide when and where observers should register with subjects (at construction time, at specific times, etc.).</li>
                            <li><strong>Notification Specificity:</strong> Consider whether to notify observers about specific changes or just that a change occurred.</li>
                            <li><strong>Performance:</strong> Be cautious with large numbers of observers or complex update operations; consider batching updates.</li>
                            <li><strong>Memory Management:</strong> Watch out for memory leaks due to dangling references between subjects and observers.</li>
                        </ul>
                    </div>
                    
                    <div class="implementation-section">
                        <h4>Variations</h4>
                        <div class="details-grid">
                            <div class="detail-card">
                                <div class="detail-title">Event-Based Observer</div>
                                <div class="detail-content">
                                    Passes event objects containing details about the change to observers, rather than just a reference to the subject.
                                </div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-title">Aspect-Oriented Observer</div>
                                <div class="detail-content">
                                    Uses AOP techniques to automatically trigger notifications when specific methods are called.
                                </div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-title">Observable Traits</div>
                                <div class="detail-content">
                                    In languages with mixins or traits, the Observable behavior can be implemented as a reusable trait.
                                </div>
                            </div>
                            
                            <div class="detail-card">
                                <div class="detail-title">Reactive Extensions</div>
                                <div class="detail-content">
                                    Modern implementations often use reactive programming libraries (RxJS, Reactor, etc.) that provide rich Observable abstractions.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="examples-tab" class="tab-content">
                    <h3>Real-World Examples</h3>
                    
                    <div class="example-item">
                        <h4 class="example-title">GUI Event Handling</h4>
                        <p>Most GUI frameworks use the Observer pattern for event handling. UI components (buttons, text fields) act as subjects, while event listeners act as observers.</p>
                        <div class="code-example">
                            <pre>
<span class="code-comment">// JavaScript DOM Example</span>
<span class="code-keyword">const</span> button = document.querySelector(<span class="code-string">'#myButton'</span>);

<span class="code-comment">// Add observers (event listeners)</span>
button.addEventListener(<span class="code-string">'click'</span>, () => {
    console.log(<span class="code-string">'Button was clicked!'</span>);
});

button.addEventListener(<span class="code-string">'click'</span>, () => {
    document.getElementById(<span class="code-string">'output'</span>).textContent = <span class="code-string">'Button clicked at '</span> + <span class="code-keyword">new</span> Date().toLocaleTimeString();
});

<span class="code-comment">// When button is clicked, it notifies all its observers</span>
</pre>
                        </div>
                    </div>
                    
                    <div class="example-item">
                        <h4 class="example-title">Model-View-Controller (MVC)</h4>
                        <p>In MVC, the Model acts as the subject, while Views act as observers. When the Model changes, all Views are notified and updated accordingly.</p>
                        <div class="code-example">
                            <pre>
<span class="code-comment">// Simplified MVC Example</span>
<span class="code-keyword">class</span> <span class="code-class">UserModel</span> {
    <span class="code-keyword">private</span> name: <span class="code-keyword">string</span> = <span class="code-string">''</span>;
    <span class="code-keyword">private</span> observers: UserView[] = [];
    
    <span class="code-function">attach</span>(observer: UserView): <span class="code-keyword">void</span> {
        <span class="code-keyword">this</span>.observers.push(observer);
    }
    
    <span class="code-function">notify</span>(): <span class="code-keyword">void</span> {
        <span class="code-keyword">this</span>.observers.forEach(observer => observer.render());
    }
    
    <span class="code-function">setName</span>(name: <span class="code-keyword">string</span>): <span class="code-keyword">void</span> {
        <span class="code-keyword">this</span>.name = name;
        <span class="code-keyword">this</span>.notify();
    }
    
    <span class="code-function">getName</span>(): <span class="code-keyword">string</span> {
        <span class="code-keyword">return</span> <span class="code-keyword">this</span>.name;
    }
}

<span class="code-keyword">class</span> <span class="code-class">UserView</span> {
    <span class="code-function">constructor</span>(<span class="code-keyword">private</span> model: UserModel, <span class="code-keyword">private</span> element: HTMLElement) {
        model.attach(<span class="code-keyword">this</span>);
        <span class="code-keyword">this</span>.render();
    }
    
    <span class="code-function">render</span>(): <span class="code-keyword">void</span> {
        <span class="code-keyword">this</span>.element.textContent = `User: ${<span class="code-keyword">this</span>.model.getName()}`;
    }
}

<span class="code-keyword">class</span> <span class="code-class">UserController</span> {
    <span class="code-function">constructor</span>(<span class="code-keyword">private</span> model: UserModel, <span class="code-keyword">private</span> input: HTMLInputElement) {
        input.addEventListener(<span class="code-string">'input'</span>, () => {
            model.setName(input.value);
        });
    }
}

<span class="code-comment">// Usage</span>
<span class="code-keyword">const</span> userModel = <span class="code-keyword">new</span> UserModel();
<span class="code-keyword">const</span> view1 = <span class="code-keyword">new</span> UserView(userModel, document.getElementById(<span class="code-string">'view1'</span>));
<span class="code-keyword">const</span> view2 = <span class="code-keyword">new</span> UserView(userModel, document.getElementById(<span class="code-string">'view2'</span>));
<span class="code-keyword">const</span> controller = <span class="code-keyword">new</span> UserController(userModel, document.getElementById(<span class="code-string">'nameInput'</span>) <span class="code-keyword">as</span> HTMLInputElement);
</pre>
                        </div>
                    </div>
                    
                    <div class="example-item">
                        <h4 class="example-title">Reactive Programming</h4>
                        <p>Modern reactive programming libraries are built around the Observer pattern, enabling elegant handling of asynchronous data streams.</p>
                        <div class="code-example">
                            <pre>
<span class="code-comment">// RxJS Example</span>
<span class="code-keyword">import</span> { Subject } <span class="code-keyword">from</span> <span class="code-string">'rxjs'</span>;

<span class="code-comment">// Create a subject (observable)</span>
<span class="code-keyword">const</span> dataStream = <span class="code-keyword">new</span> Subject&lt;<span class="code-keyword">number</span>&gt;();

<span class="code-comment">// Add observers (subscribers)</span>
<span class="code-keyword">const</span> subscription1 = dataStream.subscribe(value => {
    console.log(`Observer 1 received: ${value}`);
});

<span class="code-keyword">const</span> subscription2 = dataStream.subscribe(value => {
    console.log(`Observer 2 received: ${value * 2}`);
});

<span class="code-comment">// Emit values (notify observers)</span>
dataStream.next(10); <span class="code-comment">// Both observers receive notification</span>
dataStream.next(20); <span class="code-comment">// Both observers receive notification</span>

<span class="code-comment">// Remove an observer</span>
subscription1.unsubscribe();

dataStream.next(30); <span class="code-comment">// Only Observer 2 receives notification</span>
</pre>
                        </div>
                    </div>
                    
                    <div class="pattern-relationships">
                        <h3>Related Patterns</h3>
                        <div class="relationship-grid">
                            <div class="relationship-card">
                                <div class="relationship-type">Often used with</div>
                                <div class="relationship-name">Mediator Pattern</div>
                                <p>Mediator can act as an intermediary between subjects and observers, centralizing complex update logic.</p>
                            </div>
                            
                            <div class="relationship-card">
                                <div class="relationship-type">Can be implemented with</div>
                                <div class="relationship-name">Strategy Pattern</div>
                                <p>Different observer behaviors can be implemented as strategies that can be dynamically changed.</p>
                            </div>
                            
                            <div class="relationship-card">
                                <div class="relationship-type">Alternative to</div>
                                <div class="relationship-name">Publish-Subscribe Pattern</div>
                                <p>Pub-Sub decouples publishers and subscribers by introducing a central event channel.</p>
                            </div>
                            
                            <div class="relationship-card">
                                <div class="relationship-type">Can use</div>
                                <div class="relationship-name">Memento Pattern</div>
                                <p>To allow observers to access the subject's previous states.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="simulate-tab" class="tab-content">
                    <h3>Interactive Simulation</h3>
                    <p>This simulation demonstrates the Observer pattern in action. You can add and remove observers, change the subject's state, and see how observers get notified.</p>
                    
                    <div class="pattern-simulation">
                        <div class="simulation-controls">
                            <button class="simulation-button" id="add-observer">Add Observer</button>
                            <button class="simulation-button" id="remove-observer">Remove Observer</button>
                            <button class="simulation-button" id="change-temperature">Change Temperature</button>
                            <button class="simulation-button" id="reset-simulation">Reset</button>
                        </div>
                        
                        <div class="simulation-canvas">
                            <svg width="100%" height="100%" viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg" id="simulation-svg">
                                <!-- Subject -->
                                <rect x="100" y="100" width="200" height="100" fill="#e1ebf2" stroke="#3498db" stroke-width="2" rx="5" ry="5" id="simulation-subject" />
                                <text x="200" y="140" text-anchor="middle" font-size="16" font-weight="bold">WeatherStation</text>
                                <text x="200" y="170" text-anchor="middle" font-size="14">Temperature: 25Â°C</text>
                                
                                <!-- Observer 1 -->
                                <rect x="500" y="50" width="200" height="80" fill="#e8f4e5" stroke="#2ecc71" stroke-width="2" rx="5" ry="5" id="simulation-observer1" />
                                <text x="600" y="85" text-anchor="middle" font-size="14">Display Observer</text>
                                <text x="600" y="110" text-anchor="middle" font-size="12">Last update: 25Â°C</text>
                                
                                <!-- Observer 2 -->
                                <rect x="500" y="160" width="200" height="80" fill="#e8f4e5" stroke="#2ecc71" stroke-width="2" rx="5" ry="5" id="simulation-observer2" />
                                <text x="600" y="195" text-anchor="middle" font-size="14">Logger Observer</text>
                                <text x="600" y="220" text-anchor="middle" font-size="12">Last update: 25Â°C</text>
                                
                                <!-- Notification lines -->
                                <path d="M300,130 Q400,90 500,90" stroke="#333" stroke-width="2" id="notification-line1" />
                                <path d="M300,150 Q400,190 500,190" stroke="#333" stroke-width="2" id="notification-line2" />
                                
                                <!-- Arrow definitions -->
                                <defs>
                                    <marker id="sim-arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        
                        <div id="simulation-log" style="margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 4px; max-height: 100px; overflow-y: auto;">
                            <div>Simulation initialized. Weather station at 25Â°C with 2 observers.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Tab switching functionality
        document.querySelectorAll('.pattern-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Update active tab
                document.querySelectorAll('.pattern-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active content
                const tabId = tab.getAttribute('data-tab');
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });
        
        // Code example tab switching
        document.querySelectorAll('.code-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Update active tab
                document.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active code panel
                const lang = tab.getAttribute('data-lang');
                document.querySelectorAll('.code-panel').forEach(panel => panel.classList.remove('active'));
                document.getElementById(`${lang}-code`).classList.add('active');
            });
        });
        
        // Pattern list functionality
        document.querySelectorAll('.category-title').forEach(title => {
            title.addEventListener('click', () => {
                title.classList.toggle('collapsed');
                const items = title.nextElementSibling;
                items.style.display = title.classList.contains('collapsed') ? 'none' : 'block';
            });
        });
        
        document.querySelectorAll('.pattern-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.pattern-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                // In a real implementation, this would load the selected pattern
            });
        });
        
        // Simulation functionality
        let simulationState = {
            temperature: 25,
            observers: [
                { id: 1, type: 'Display', active: true, lastUpdate: 25 },
                { id: 2, type: 'Logger', active: true, lastUpdate: 25 }
            ],
            nextObserverId: 3
        };
        
        function updateSimulation() {
            // Update temperature display
            document.querySelector('#simulation-subject text:nth-child(3)').textContent = `Temperature: ${simulationState.temperature}Â°C`;
            
            // Update observers and notification lines
            for (let i = 1; i <= 2; i++) {
                const observer = simulationState.observers.find(o => o.id === i);
                const observerElement = document.getElementById(`simulation-observer${i}`);
                const notificationLine = document.getElementById(`notification-line${i}`);
                
                if (observer && observer.active) {
                    // Observer is active
                    observerElement.style.display = 'block';
                    notificationLine.style.display = 'block';
                    
                    // Update last temperature
                    document.querySelector(`#simulation-observer${i} text:nth-child(2)`).textContent = `${observer.type} Observer`;
                    document.querySelector(`#simulation-observer${i} text:nth-child(3)`).textContent = `Last update: ${observer.lastUpdate}Â°C`;
                } else {
                    // Observer is inactive
                    observerElement.style.display = 'none';
                    notificationLine.style.display = 'none';
                }
            }
        }
        
        function notifyObservers() {
            simulationState.observers.forEach(observer => {
                if (observer.active) {
                    observer.lastUpdate = simulationState.temperature;
                    
                    // Animate notification
                    const notificationLine = document.getElementById(`notification-line${observer.id}`);
                    if (notificationLine) {
                        notificationLine.classList.add('highlight-animation');
                        setTimeout(() => {
                            notificationLine.classList.remove('highlight-animation');
                        }, 1500);
                    }
                    
                    // Log the notification
                    const logEntry = document.createElement('div');
                    logEntry.textContent = `Notified ${observer.type} Observer: Temperature is now ${simulationState.temperature}Â°C`;
                    document.getElementById('simulation-log').prepend(logEntry);
                }
            });
            
            updateSimulation();
        }
        
        // Simulation event handlers
        document.getElementById('add-observer').addEventListener('click', () => {
            const inactiveObserver = simulationState.observers.find(o => !o.active);
            if (inactiveObserver) {
                inactiveObserver.active = true;
                
                const logEntry = document.createElement('div');
                logEntry.textContent = `Added ${inactiveObserver.type} Observer`;
                document.getElementById('simulation-log').prepend(logEntry);
                
                updateSimulation();
            } else {
                const logEntry = document.createElement('div');
                logEntry.textContent = `All observers are already active`;
                document.getElementById('simulation-log').prepend(logEntry);
            }
        });
        
        document.getElementById('remove-observer').addEventListener('click', () => {
            const activeObservers = simulationState.observers.filter(o => o.active);
            if (activeObservers.length > 0) {
                // Remove the last active observer
                const observerToRemove = activeObservers[activeObservers.length - 1];
                observerToRemove.active = false;
                
                const logEntry = document.createElement('div');
                logEntry.textContent = `Removed ${observerToRemove.type} Observer`;
                document.getElementById('simulation-log').prepend(logEntry);
                
                updateSimulation();
            } else {
                const logEntry = document.createElement('div');
                logEntry.textContent = `No observers to remove`;
                document.getElementById('simulation-log').prepend(logEntry);
            }
        });
        
        document.getElementById('change-temperature').addEventListener('click', () => {
            // Generate a random temperature between 0 and 40
            simulationState.temperature = Math.floor(Math.random() * 41);
            
            const logEntry = document.createElement('div');
            logEntry.textContent = `WeatherStation temperature changed to ${simulationState.temperature}Â°C`;
            document.getElementById('simulation-log').prepend(logEntry);
            
            notifyObservers();
        });
        
        document.getElementById('reset-simulation').addEventListener('click', () => {
            simulationState = {
                temperature: 25,
                observers: [
                    { id: 1, type: 'Display', active: true, lastUpdate: 25 },
                    { id: 2, type: 'Logger', active: true, lastUpdate: 25 }
                ],
                nextObserverId: 3
            };
            
            const logEntry = document.createElement('div');
            logEntry.textContent = `Simulation reset to initial state`;
            document.getElementById('simulation-log').prepend(logEntry);
            
            updateSimulation();
        });
        
        // Initialize simulation
        updateSimulation();
    </script>
</body>
</html>